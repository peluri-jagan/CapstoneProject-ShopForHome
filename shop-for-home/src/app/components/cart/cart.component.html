<!-- Frontend/src/app/components/cart/cart.component.html -->
<div class="container mt-4">
  <h2>Your Shopping Cart</h2>

  <div *ngIf="isLoading">Loading cart...</div>

  <table class="table" *ngIf="!isLoading && cartItems.length > 0">
    <thead>
      <tr>
        <th>Image</th>
        <th>Product Name</th>
        <th>Description</th>
        <th>Price</th>
        <th>Quantity</th>
        <th>Total</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of cartItems">
        <td>
          <img *ngIf="item.imageUrl" [src]="item.imageUrl" alt="{{ item.name }}" width="50">
          <span *ngIf="!item.imageUrl">No Image</span>
        </td>
        <td>{{ item.name }}</td>
        <td>{{ item.description }}</td>
        <td>{{ item.price | currency }}</td>
        <td>
          <button class="btn btn-sm btn-outline-primary me-2" 
                  (click)="decreaseQuantity(item)" 
                  [disabled]="item.quantity <= 1">-</button>
          <span>{{ item.quantity }}</span>
          <button class="btn btn-sm btn-outline-primary ms-2" 
                  (click)="increaseQuantity(item)">+</button>
        </td>
        <td>{{ (item.price * item.quantity) | currency }}</td>
        <td>
          <button class="btn btn-sm btn-danger" (click)="removeItem(item.productId)">Remove</button>
        </td>
      </tr>
    </tbody>
  </table>


  <div *ngIf="!isLoading && cartItems.length > 0" class="d-flex justify-content-center mb-5">
    <button class="btn btn-success btn-lg" (click)="buyNow()">Buy Now</button>
  </div>

  <!-- Empty Cart -->
  <div *ngIf="!isLoading && cartItems.length === 0" class="text-center mt-4">
    ðŸ›’ Your cart is empty
  </div>
</div>
